<app-modal-window [isHidden$]="modalWindowService.isCreatePostModalWindowHidden$">
  <div class="grid grid-cols-3 min-w-[450px] border-b-[1px] pb-2">
    <div></div>
    <span class="block justify-self-center">Post Creation</span>
    <button class="text-blue-500 block justify-self-end" (click)="uploadFiles()">Create</button>
  </div>
  <ul class="min-h-[400px] w-full flex flex-col space-y-2 justify-center">
    <li
      (drop)="drop($event)"
      (dragleave)="dragleave($event)"
      (dragover)="dragover($event)"
      (dragenter)="dragenter($event)"
      draggable="true"
      class="w-full h-full group relative">
      <div class="grid grid-cols-3 grid-rows-3 gap-2 overflow-y-scroll w-full">
        <div class="relative max-w-full
                      flex flex-row justify-center items-center" *ngFor="let preview of previews">
          <img class="h-auto max-w-[100px]  rounded-lg" [src]="preview"/>
        </div>
      </div>

      <form

        class="
                 absolute top-0 left-0 right-0 bottom-0
                 flex items-center justify-center
                 w-full h-full
"
        [ngClass]="{'hidden': previews.length > 0 && !isDragging}"
      >
        <label for="dropzone-file"
               class="flex flex-col items-center justify-center
                        w-full h-full
                        border-2 border-gray-300 border-dashed rounded-lg
                        cursor-pointer
                        bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100
                        dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600
">
          <div
            class="flex flex-col items-center justify-center pt-5 pb-6">
            <svg class="w-8 h-8 mb-4 text-gray-500 dark:text-gray-400" aria-hidden="true"
                 xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 16">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"/>
            </svg>
            <p class="mb-2 text-sm text-gray-500 dark:text-gray-400"><span
              class="font-semibold">Click to upload</span> or drag and drop</p>
            <p class="text-xs text-gray-500 dark:text-gray-400">SVG, PNG, JPG or GIF (MAX. 800x400px)</p>
          </div>
          <input id="dropzone-file"
                 (change)="fileSelected($event)"
                 type="file" class="hidden" multiple/>
        </label>
      </form>


      <!--        <input type="file" title="Select Files" (change)="fileSelected($event)" multiple>-->
      <!--        <button class=" text-white bg-blue-500 p-2 rounded-lg">Select from computer</button>-->
    </li>
    <li class="w-full group relative">
        <textarea rows="3"
                  name="caption"
                  [(ngModel)]="caption"
                  class="w-full bg-slate-100 border-[1px] border-slate-300 px-4 py-2 outline-none rounded-md overflow-y-auto"
                  placeholder="Type here..."></textarea>
    </li>
  </ul>
</app-modal-window>
